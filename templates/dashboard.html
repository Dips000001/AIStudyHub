{% extends "layout.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<!-- Block 1: Welcome Banner Carousel -->
<section class="welcome-banner">
    <div class="carousel-container">
        <div class="carousel-slide active" id="slide1">
            <div class="welcome-content">
                <h2>Welcome back, {{ session.username }}!</h2>
                <p id="encouragementText">Every page you read is a step closer to your dreams. Keep pushing forward!</p>
            </div>
        </div>
        <div class="carousel-slide" id="slide2">
            <div class="welcome-content">
                <h2>Great Progress!</h2>
                <p>Your dedication to learning is inspiring. Today is another opportunity to grow!</p>
            </div>
        </div>
        <div class="carousel-slide" id="slide3">
            <div class="welcome-content">
                <h2>Keep Going!</h2>
                <p>Success is the sum of small efforts repeated day in and day out. You're doing amazing!</p>
            </div>
        </div>
        <div class="carousel-indicators">
            <span class="indicator active" onclick="currentSlide(1)"></span>
            <span class="indicator" onclick="currentSlide(2)"></span>
            <span class="indicator" onclick="currentSlide(3)"></span>
        </div>
    </div>
</section>

<div class="dashboard-grid">
    <!-- Block 2: Books Read Statistics -->
    <section class="card books-stats">
        <h3>Books Read This Month</h3>
        <div class="books-content">
            <div class="books-number">
                <span class="big-number">12</span>
                <span class="label">Books</span>
            </div>
            <div class="genre-chart">
                <canvas id="genreChart"></canvas>
            </div>
            <div class="genre-legend">
                <div class="legend-item">
                    <span class="color-dot fiction"></span>
                    <span>Fiction (5)</span>
                </div>
                <div class="legend-item">
                    <span class="color-dot non-fiction"></span>
                    <span>Non-Fiction (4)</span>
                </div>
                <div class="legend-item">
                    <span class="color-dot academic"></span>
                    <span>Academic (3)</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Block 3: Performance Metrics -->
    <section class="card performance-metrics">
        <h3>Your Performance</h3>
        <div class="metrics-grid">
            <div class="metric-item">
                <div class="metric-icon">
                    <i class="fas fa-fire"></i>
                </div>
                <div class="metric-info">
                    <span class="metric-number">9</span>
                    <span class="metric-label">Days Streak</span>
                    <span class="metric-change positive">+2 from last week</span>
                </div>
            </div>
            <div class="metric-item">
                <div class="metric-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <div class="metric-info">
                    <span class="metric-number">5</span>
                    <span class="metric-label">Past Papers</span>
                    <span class="metric-change positive">+1 this week</span>
                </div>
            </div>
            <div class="metric-item">
                <div class="metric-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="metric-info">
                    <span class="metric-number">3.20</span>
                    <span class="metric-label">CGPA</span>
                    <span class="metric-change positive">+0.15 improvement</span>
                </div>
            </div>
        </div>
        <div class="performance-chart">
            <canvas id="performanceChart"></canvas>
        </div>
    </section>

    <!-- Block 4: Monthly Reading Hours -->
    <section class="card reading-hours">
        <h3>Monthly Reading Hours</h3>
        <div class="chart-container">
            <canvas id="readingHoursChart"></canvas>
        </div>
        <div class="hours-summary">
            <span class="total-hours">Total: 45 hours this month</span>
            <span class="daily-average">Daily average: 1.5 hours</span>
        </div>
    </section>

    <!-- Block 5: Keywords of the Week -->
    <section class="card keywords-week">
        <h3>Keywords of the Week</h3>
        <div class="word-cloud">
            <span class="keyword large">Leadership</span>
            <span class="keyword medium">Innovation</span>
            <span class="keyword small">Strategy</span>
            <span class="keyword large">Communication</span>
            <span class="keyword medium">Teamwork</span>
            <span class="keyword small">Problem-solving</span>
            <span class="keyword medium">Critical thinking</span>
            <span class="keyword large">Creativity</span>
            <span class="keyword small">Adaptability</span>
            <span class="keyword medium">Efficiency</span>
            <span class="keyword small">Excellence</span>
            <span class="keyword medium">Growth</span>
        </div>
    </section>

    <!-- Block 6: Last eBook Read -->
    <section class="card last-ebook">
        <h3>Continue Your Last Reading</h3>
        <div class="ebook-content" onclick="continueReading()">
            <div class="book-cover">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEwMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTIwIiBmaWxsPSIjNDI4NUY0Ii8+Cjx0ZXh0IHg9IjUwIiB5PSI2MCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+U3RhdGlzdGljczwvdGV4dD4KPC9zdmc+" alt="Statistics Book">
            </div>
            <div class="book-info">
                <h4>Statistics</h4>
                <p class="book-author">Gordon and Finch</p>
                <div class="reading-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%"></div>
                    </div>
                    <span class="progress-text">65% completed</span>
                </div>
                <div class="book-tags">
                    <span class="tag">Peer Reviewed</span>
                    <span class="tag">Online Resource</span>
                </div>
                <p class="continue-text">Click to continue reading...</p>
            </div>
        </div>
    </section>

    <!-- Block 7: Calendar and Upcoming Events -->
    <section class="card calendar-events">
        <h3>Calendar & Upcoming Events</h3>
        <div class="calendar-container">
            <div class="calendar-header">
                <button class="calendar-nav" onclick="previousMonth()">&lt;</button>
                <span class="calendar-month" id="currentMonth">January 2024</span>
                <button class="calendar-nav" onclick="nextMonth()">&gt;</button>
            </div>
            <div class="calendar-grid">
                <div class="calendar-day header">Sun</div>
                <div class="calendar-day header">Mon</div>
                <div class="calendar-day header">Tue</div>
                <div class="calendar-day header">Wed</div>
                <div class="calendar-day header">Thu</div>
                <div class="calendar-day header">Fri</div>
                <div class="calendar-day header">Sat</div>
                <!-- Calendar days will be generated by JavaScript -->
            </div>
        </div>
        <div class="upcoming-events">
            <h4>Upcoming Events</h4>
            <div class="event-item">
                <div class="event-date">Jan 15</div>
                <div class="event-info">
                    <span class="event-title">Reading Workshop</span>
                    <span class="event-time">2:00 PM</span>
                </div>
            </div>
            <div class="event-item">
                <div class="event-date">Jan 18</div>
                <div class="event-info">
                    <span class="event-title">Book Club Meeting</span>
                    <span class="event-time">7:00 PM</span>
                </div>
            </div>
            <div class="event-item">
                <div class="event-date">Jan 22</div>
                <div class="event-info">
                    <span class="event-title">Midterm: CS111</span>
                    <span class="event-time">10:00 AM</span>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='dashboard.js') }}"></script>
{% endblock %}