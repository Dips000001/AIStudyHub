{% extends "layout.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<!-- Keep Going Banner -->
<section class="keep-going-banner">
    <div class="banner-content">
        <h2>Welcome back, Alice</h2>
        <p>Success is the sum of small efforts repeated day in and day out. You're doing amazing!</p>
    </div>
</section>

<!-- Your Performance Section -->
<section class="performance-section">
    <h3>Your Performance</h3>
    <div class="performance-metrics-row">
        <div class="metric-card">
            <div class="metric-icon cgpa-icon">
                <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="metric-details">
                <span class="metric-value">3.20</span>
                <span class="metric-label">CGPA</span>
                <span class="metric-sublabel">Current semester</span>
            </div>
        </div>
        <div class="metric-card">
            <div class="metric-icon papers-icon">
                <i class="fas fa-file-alt"></i>
            </div>
            <div class="metric-details">
                <span class="metric-value">5</span>
                <span class="metric-label">Past Papers</span>
                <span class="metric-sublabel">This week</span>
            </div>
        </div>
        <div class="metric-card">
            <div class="metric-icon streak-icon">
                <i class="fas fa-fire"></i>
            </div>
            <div class="metric-details">
                <span class="metric-value">9</span>
                <span class="metric-label">Days Streak</span>
                <span class="metric-sublabel">Keep it up!</span>
            </div>
        </div>
        <div class="metric-card">
            <div class="metric-icon hours-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="metric-details">
                <span class="metric-value">12</span>
                <span class="metric-label">Reading Hours</span>
                <span class="metric-sublabel">This week</span>
            </div>
        </div>
    </div>
</section>

<!-- Main Dashboard Grid -->
<div class="dashboard-grid">
    <!-- Left Column -->
    <div class="left-column">
        <!-- Continue Your Last Reading -->
        <section class="card last-reading">
            <h3>Continue Your Last Reading</h3>
            <div class="reading-content" onclick="showBookDetails()">
                <div class="book-cover">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEwMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTIwIiBmaWxsPSIjNDI4NUY0Ii8+Cjx0ZXh0IHg9IjUwIiB5PSI2MCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+U3RhdGlzdGljczwvdGV4dD4KPC9zdmc+" alt="Statistics Book">
                </div>
                <div class="book-details">
                    <h4>Statistics</h4>
                    <p class="book-author">Gordon and Finch</p>
                    <div class="progress-section">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%"></div>
                        </div>
                        <span class="progress-text">65% completed</span>
                    </div>
                    <div class="book-tags">
                        <span class="tag blue">Peer Reviewed</span>
                        <span class="tag green">Online Resource</span>
                    </div>
                    <p class="continue-link">Click to continue reading...</p>
                </div>
            </div>
        </section>

        <!-- Keywords of the Week -->
        <section class="card keywords-section">
            <h3>Keywords of the Week</h3>
            <div class="keywords-cloud">
                <span class="keyword-tag purple">Leadership</span>
                <span class="keyword-tag blue">Innovation</span>
                <span class="keyword-tag green">Strategy</span>
                <span class="keyword-tag purple">Communication</span>
                <span class="keyword-tag blue">Teamwork</span>
                <span class="keyword-tag green">Problem-solving</span>
                <span class="keyword-tag purple">Critical thinking</span>
                <span class="keyword-tag blue">Creativity</span>
                <span class="keyword-tag green">Adaptability</span>
                <span class="keyword-tag purple">Efficiency</span>
                <span class="keyword-tag blue">Excellence</span>
                <span class="keyword-tag green">Growth</span>
            </div>
        </section>

        <!-- Books Read Statistics -->
        <section class="card books-read">
            <h3>you have read</h3>
            <div class="books-stats-content">
                <div class="books-count">
                    <span class="big-number">12</span>
                    <span class="books-label">Books in this month</span>
                </div>
                <div class="genre-breakdown">
                    <div class="genre-item">
                        <span class="genre-dot fiction"></span>
                        <span class="genre-text">Fiction</span>
                        <span class="genre-percent">42%</span>
                    </div>
                    <div class="genre-item">
                        <span class="genre-dot non-fiction"></span>
                        <span class="genre-text">Non-Fiction</span>
                        <span class="genre-percent">33%</span>
                    </div>
                    <div class="genre-item">
                        <span class="genre-dot academic"></span>
                        <span class="genre-text">Academic</span>
                        <span class="genre-percent">25%</span>
                    </div>
                </div>
                <div class="genre-chart">
                    <canvas id="genreChart"></canvas>
                </div>
            </div>
        </section>
    </div>

    <!-- Right Column -->
    <div class="right-column">
        <!-- CGPA Trend -->
        <section class="card cgpa-trend">
            <h3>CGPA Trend</h3>
            <div class="chart-container">
                <canvas id="cgpaChart"></canvas>
            </div>
        </section>

        <!-- Calendar and Upcoming Events -->
        <section class="card calendar-section">
            <div class="calendar-header">
                <h3>Calendar & Upcoming Events</h3>
                <div class="month-selector">
                    <button class="month-nav" onclick="previousMonth()">&lt;</button>
                    <span class="current-month" id="currentMonth">September 2024</span>
                    <button class="month-nav" onclick="nextMonth()">&gt;</button>
                </div>
            </div>
            <div class="calendar-grid">
                <div class="calendar-day header">Sun</div>
                <div class="calendar-day header">Mon</div>
                <div class="calendar-day header">Tue</div>
                <div class="calendar-day header">Wed</div>
                <div class="calendar-day header">Thu</div>
                <div class="calendar-day header">Fri</div>
                <div class="calendar-day header">Sat</div>
                <!-- Calendar days will be generated by JavaScript -->
            </div>
            <div class="upcoming-events">
                <h4>Upcoming Events</h4>
                <div class="event-list">
                    <div class="event-item">
                        <div class="event-date">Jan 15</div>
                        <div class="event-details">
                            <span class="event-title">Reading Workshop</span>
                            <span class="event-time">2:00 PM</span>
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">Jan 18</div>
                        <div class="event-details">
                            <span class="event-title">Book Club Meeting</span>
                            <span class="event-time">7:00 PM</span>
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">Jan 22</div>
                        <div class="event-details">
                            <span class="event-title">Midterm: CS111</span>
                            <span class="event-time">10:00 AM</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- Book Details Modal -->
<div id="bookModal" class="book-modal">
    <div class="book-modal-content">
        <span class="book-modal-close">&times;</span>
        <div class="book-modal-header">
            <div class="book-modal-cover">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEwMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTIwIiBmaWxsPSIjNDI4NUY0Ii8+Cjx0ZXh0IHg9IjUwIiB5PSI2MCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+U3RhdGlzdGljczwvdGV4dD4KPC9zdmc+" alt="Statistics Book">
            </div>
            <div class="book-modal-info">
                <h2>Statistics</h2>
                <p class="book-modal-author">by Gordon and Finch</p>
                <div class="book-modal-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%"></div>
                    </div>
                    <span class="progress-text">65% completed (Chapter 8 of 12)</span>
                </div>
                <div class="book-modal-tags">
                    <span class="tag blue">Peer Reviewed</span>
                    <span class="tag green">Online Resource</span>
                    <span class="tag purple">Academic</span>
                </div>
            </div>
        </div>
        
        <div class="book-modal-body">
            <div class="book-details-section">
                <h3>Book Details</h3>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ISBN:</span>
                        <span class="detail-value">978-0-123-45678-9</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Publisher:</span>
                        <span class="detail-value">Academic Press</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Publication Year:</span>
                        <span class="detail-value">2023</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Pages:</span>
                        <span class="detail-value">456</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Language:</span>
                        <span class="detail-value">English</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Category:</span>
                        <span class="detail-value">Mathematics & Statistics</span>
                    </div>
                </div>
            </div>
            
            <div class="reading-progress-section">
                <h3>Reading Progress</h3>
                <div class="progress-stats">
                    <div class="stat-item">
                        <span class="stat-number">8</span>
                        <span class="stat-label">Chapters Read</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">296</span>
                        <span class="stat-label">Pages Read</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">12</span>
                        <span class="stat-label">Days Reading</span>
                    </div>
                </div>
                <p class="last-read">Last read: September 7, 2025 at 3:45 PM</p>
            </div>
            
            <div class="book-summary-section">
                <h3>Summary</h3>
                <p>This comprehensive statistics textbook covers fundamental concepts in statistical analysis, probability theory, and data interpretation. Perfect for undergraduate and graduate students in mathematics, science, and business fields.</p>
            </div>
        </div>
        
        <div class="book-modal-footer">
            <button class="btn-secondary" onclick="closeBookModal()">Close</button>
            <button class="btn-primary" onclick="continueReading()">Continue Reading</button>
        </div>
    </div>
</div>

{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='dashboard.js') }}"></script>
{% endblock %}